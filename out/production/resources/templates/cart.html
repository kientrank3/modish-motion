<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="components/head :: head"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body data-theme="light">
<header th:replace="components/header"></header>

<main th:fragment="content" class="min-h-screen max-w-screen-xl mx-auto py-12 px-4">
    <div class="flex gap-8">
        <!-- Cart Items Section -->
        <div class="w-2/3 space-y-6">
            <h2 class="text-2xl font-semibold">Giỏ hàng</h2>

            <!-- Progress Bar for Free Shipping -->
            <div class="bg-gray-100 p-4 rounded-lg">
                <span id="free-shipping-message" class="block text-sm text-gray-700 mb-2">
                    Mua thêm 369K nữa để nhận Miễn phí vận chuyển
                </span>
                <progress id="shipping-progress" class="progress w-56" value="0" max="100"></progress>
            </div>

            <!-- Cart Items Container where items are dynamically injected -->
            <div id="cart-items"></div>
        </div>

        <!-- Order Summary Section -->
        <div class="w-1/3 bg-gray-50 p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold mb-4">Chi tiết đơn hàng</h3>
            <div class="space-y-2">
                <p class="flex justify-between text-gray-700">
                    <span>Tổng giá trị sản phẩm:</span>
                    <span id="total-amount" class="font-semibold">— đ</span>
                </p>
                <p class="flex justify-between text-gray-700">
                    <span>Vận chuyển:</span>
                    <span id="shipping-fee" class="font-semibold">— đ</span>
                </p>
                <p class="flex justify-between text-lg font-semibold text-gray-900 mt-4">
                    <span>Tổng thanh toán:</span>
                    <span id="grand-total" class="font-semibold">— đ</span>
                </p>
            </div>
            <button class="mt-6 w-full bg-yellow-500 text-white py-2 rounded-lg font-semibold hover:bg-yellow-600 transition duration-300">
                Mua hàng
            </button>
            <p class="text-center text-gray-500 text-sm mt-4">Chọn Voucher giảm giá ở bước tiếp theo</p>
            <div class="flex gap-2 justify-center mt-4">
                <img class="h-8 object-cover" th:src="@{/images/detail_item/zalopay.webp}" />
                <img class="h-8 object-cover" th:src="@{/images/detail_item/visa-card.webp}" />
                <img class="h-8 object-cover" th:src="@{/images/detail_item/master-card.webp}" />
                <img class="h-8 object-cover" th:src="@{/images/detail_item/vnpay-qr.webp}" />
                <img class="h-8 object-cover" th:src="@{/images/detail_item/momo.webp}" />
            </div>
            <p class="text-center text-gray-500 text-xs mt-2">Đảm bảo thanh toán an toàn và bảo mật</p>
        </div>
    </div>
</main>

<footer th:replace="components/footer"></footer>
<script type="module" src="/js/cart.js"></script>
<script type="module" src="/js/cartUI.js"></script>
</body>
</html>
