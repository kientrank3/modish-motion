<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="components/head :: head"></div>
</head>

<body data-theme="light">
    <div id="toast" class="z-50 toast toast-end">
        <div id="alert-toast" class="hidden alert">
            <span id="toast-message"></span>
        </div>
    </div>
    <header th:replace="components/header"></header>
    <div class="bg-gray-100">
        <main th:fragment="content" class="max-w-screen-xl min-h-screen px-4 py-12 pt-24 mx-auto">
            <div id="cart-data">
                <!-- Cart Title Section -->
                <div class="p-4 mb-4 bg-white rounded-md shadow-sm md:p-8 md:py-4">
                    <h2 class="text-xl font-semibold md:text-2xl">Giỏ hàng</h2>
                </div>

                <!-- Main Cart Layout -->
                <div class="flex flex-col gap-4 lg:flex-row lg:gap-8">
                    <!-- Cart Items Section -->
                    <div class="w-full space-y-4 lg:w-2/3 lg:space-y-6">
                        <!-- Progress Bar for Free Shipping -->
                        <div class="p-4 bg-white rounded-md shadow-sm">
                            <span id="free-shipping-message" class="block mb-2 text-xs text-gray-700 md:text-sm">
                                Đơn hàng 500K để nhận Miễn phí vận chuyển
                            </span>
                            <progress id="shipping-progress" class="w-full progress progress-warning" value="0"
                                max="100"></progress>
                        </div>

                        <!-- Empty Cart Message -->
                        <div id="empty-cart-message" class="p-4 bg-white rounded-md shadow-sm">
                            <img th:src="@{/images/cart/empty_cart.png}" class="w-32 mx-auto mb-6 md:w-[200px] md:mb-8" />
                            <p class="text-sm text-center text-gray-500 md:text-base">Giỏ hàng của bạn đang trống</p>
                            <a href="/" 
                               class="flex items-center justify-center w-full px-4 py-2 mx-auto mt-3 text-sm text-white md:w-fit btn btn-warning md:text-base">
                                Tiếp tục mua sắm
                            </a>
                        </div>

                        <!-- Cart Items Container -->
                        <div id="cart-items" class="space-y-4">
                            <!-- Items will be dynamically injected here -->
                        </div>
                    </div>

                    <!-- Order Summary Section -->
                    <div class="w-full p-4 rounded-md shadow-sm bg-gray-50 lg:w-1/3 lg:p-6 h-fit">
                        <h3 class="mb-4 text-lg font-semibold md:text-xl">Chi tiết đơn hàng</h3>
                        <div class="space-y-2 text-sm md:text-base">
                            <p class="flex justify-between text-gray-700">
                                <span>Tổng giá trị sản phẩm:</span>
                                <span id="total-amount" class="font-semibold">— đ</span>
                            </p>
                            <p class="flex justify-between text-gray-700">
                                <span>Vận chuyển:</span>
                                <span id="shipping-fee" class="font-semibold">— đ</span>
                            </p>
                            <p class="flex justify-between mt-4 font-semibold text-yellow-500 md:text-xl">
                                <span>Tổng thanh toán:</span>
                                <span id="grand-total" class="font-semibold">— đ</span>
                            </p>
                        </div>

                        <!-- Buy Button -->
                        <button id="buy-button"
                            class="w-full py-2 mt-6 text-sm font-semibold text-white transition duration-300 bg-yellow-500 rounded-md md:text-base hover:bg-yellow-600">
                            Mua hàng
                        </button>

                        <!-- Additional Information -->
                        <p class="mt-4 text-xs text-center text-gray-500 md:text-sm">
                            Chọn Voucher giảm giá ở bước tiếp theo
                        </p>

                        <!-- Payment Methods -->
                        <div class="flex flex-wrap justify-center gap-2 mt-4">
                            <img alt="" class="object-cover h-5 md:h-6" th:src="@{/images/detail_item/zalopay.webp}" />
                            <img alt="" class="object-cover h-5 md:h-6" th:src="@{/images/detail_item/visa-card.webp}" />
                            <img alt="" class="object-cover h-5 md:h-6" th:src="@{/images/detail_item/master-card.webp}" />
                            <img alt="" class="object-cover h-5 md:h-6" th:src="@{/images/detail_item/vnpay-qr.webp}" />
                            <img alt="" class="object-cover h-5 md:h-6" th:src="@{/images/detail_item/momo.webp}" />
                        </div>
                        <p class="mt-2 text-[10px] text-center text-gray-500 md:text-xs">
                            Đảm bảo thanh toán an toàn và bảo mật
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer th:replace="components/footer"></footer>
    <script type="module" src="/js/cartUI.js"></script>
    <div th:replace="/components/lucide_icons :: lucide_icon"></div>
</body>

</html>