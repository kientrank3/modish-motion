<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="components/head :: head"></div>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body class="bg-gray-100 font-sans">
<header th:replace="components/header"></header>
<div class="flex flex-col min-h-screen pt-10">
    <div class="flex-1">
        <div class="flex h-full">
    <!-- Sidebar -->
    <aside class="bg-white w-64 px-4 py-8 border-r border-gray-200">
        <div class="text-2xl font-bold text-center mb-8">MODISH MOTION</div>
        <nav class="space-y-4">
            <a href="#" class="flex items-center space-x-4 py-2 px-4 rounded-lg hover:bg-gray-100"
               th:onclick="|window.location.href='@{/admin/dashboard?tab=products}'|"
               th:classappend="${selectedTab == 'products'} ? 'text-red-500' : ''"
            >
                <i data-lucide="folder-kanban" class="w-5 h-5"></i>
                <span>Quản lý sản phẩm</span>
            </a>
            <a href="#" class="flex items-center space-x-4 py-2 px-4 rounded-lg hover:bg-gray-100"
               th:onclick="|window.location.href='@{/admin/dashboard?tab=users}'|"
               th:classappend="${selectedTab == 'users'} ? 'text-red-500' : ''"
            >
                <i data-lucide="user-cog" class="w-5 h-5"></i>
                <span>Quản lý người dùng</span>
            </a>
            <a href="#" class="flex items-center space-x-4 py-2 px-4 rounded-lg hover:bg-gray-100"
                th:onclick="|window.location.href='@{/admin/dashboard?tab=orders}'|"
                th:classappend="${selectedTab == 'orders'} ? 'text-red-500' : ''"
            >
                <i data-lucide="book-marked" class="w-5 h-5"></i>
                <span>Quản lý đơn hàng</span>
            </a>
            <a href="#" class="flex items-center space-x-4 py-2 px-4 rounded-lg hover:bg-gray-100"
                th:onclick="|window.location.href='@{/admin/dashboard?tab=statistics}'|"
                th:classappend="${selectedTab == 'statistics'} ? 'text-red-500' : ''"
            >
                <i data-lucide="chart-column-big" class="w-5 h-5"></i>
                <span>Thống kê</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-8">
        <!-- Header -->
        <header class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-semibold">
                <span th:if="${selectedTab == 'products'}">Quản Lý Sản Phẩm</span>
                <span th:if="${selectedTab == 'users'}">Quản Lý Người Dùng</span>
                <span th:if="${selectedTab == 'orders'}">Quản Lý Đơn Hàng</span>
                <span th:if="${selectedTab == 'statistics'}">Thống Kê</span>
            </h1>
            <div class="flex items-center space-x-4">
                <input
                        type="text"
                        placeholder="Search..."
                        class="border border-gray-300 rounded-lg px-4 py-2"
                />
                <img
                        th:src="@{/images/profile/hamburmeo.jfif}" alt="avatar"
                        class="w-10 h-10 rounded-full"
                />
            </div>
        </header>
        <div >
            <div th:if="${selectedTab == 'products'}">
                <div class="w-3/4 bg-white rounded-lg shadow-lg p-6">
                    <!-- Nội dung Quản lý sản phẩm -->
                </div>

            </div>
            <div th:if="${selectedTab == 'users'}">
                <div class="flex">
                    <div class="w-3/4 bg-white rounded-lg shadow-lg p-6">

                        <!-- User List Table -->
                        <div class="w-2/3">
                            <table class="w-full border text-left">
                                <thead>
                                <tr>
                                    <th class="border px-4 py-2">ID</th>
                                    <th class="border px-4 py-2">Tên tài khoản</th>
                                    <th class="border px-4 py-2">Quyền</th>
                                    <th class="border px-4 py-2">Hành động</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="account : ${accounts}">
                                    <td class="border px-4 py-2" th:text="${account.user.id}"></td>
                                    <td class="border px-4 py-2" th:text="${account.username}"></td>
                                    <td class="border px-4 py-2" th:text="${account.admin} ? 'Admin' : 'User'"></td>
                                    <td class="border px-4 py-2">
                                        <button th:onclick="'showDetails(' + ${account.user.id} + ')'"
                                                class="text-blue-500 hover:underline">
                                            Chi tiết
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- User Details -->

                    </div>
                    <div class="w-1/3 ml-6">
                        <h3 class="text-lg font-bold mb-4">Chi tiết tài khoản</h3>
                        <p>ID: <span id="detailId"></span></p>
                        <p>Tên: <span id="detailName"></span></p>
                        <p>Email: <span id="detailEmail"></span></p>
                        <p>Phone: <span id="detailPhone"></span></p>
                        <p>Địa chỉ: <span id="detailAddress"></span></p>
                        <p>Ngày sinh: <span id="detailDob"></span></p>
                    </div>
                </div>

            </div>
            <div th:if="${selectedTab == 'orders'}">
                <div class="w-3/4 bg-white rounded-lg shadow-lg p-6">
                    <!-- Nội dung Quản lý sản phẩm -->
                </div>

            </div>
            <div th:if="${selectedTab == 'statistics'}">
                <div class="w-3/4 bg-white rounded-lg shadow-lg p-6">
                </div>

            </div>
        </div>


<!--        &lt;!&ndash; Statistics Cards &ndash;&gt;-->
<!--        <div class="grid grid-cols-4 gap-4 mb-8">-->
<!--            <div class="bg-white p-6 rounded-lg shadow">-->
<!--                <h2 class="text-gray-500 text-sm">Total Products</h2>-->
<!--                <p class="text-xl font-bold">$503,709</p>-->
<!--            </div>-->
<!--            <div class="bg-white p-6 rounded-lg shadow">-->
<!--                <h2 class="text-gray-500 text-sm">Total Users</h2>-->
<!--                <p class="text-xl font-bold">1,657,895</p>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Table &ndash;&gt;-->
<!--        <div class="bg-white rounded-lg shadow p-4">-->
<!--            <table class="w-full table-auto text-left">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th class="px-4 py-2">R.No</th>-->
<!--                    <th class="px-4 py-2">Date & Time</th>-->
<!--                    <th class="px-4 py-2">Rider</th>-->
<!--                    <th class="px-4 py-2">Driver</th>-->
<!--                    <th class="px-4 py-2">Fare</th>-->
<!--                    <th class="px-4 py-2">Vehicle Category</th>-->
<!--                    <th class="px-4 py-2">Status</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody>-->
<!--                <tr class="border-t border-gray-200">-->
<!--                    <td class="px-4 py-2">101</td>-->
<!--                    <td class="px-4 py-2">06 Dec 09:00 AM</td>-->
<!--                    <td class="px-4 py-2">Bella Kern</td>-->
<!--                    <td class="px-4 py-2">Jill Jensen</td>-->
<!--                    <td class="px-4 py-2">$32</td>-->
<!--                    <td class="px-4 py-2">-->
<!--                        <span class="bg-blue-100 text-blue-500 py-1 px-3 rounded-full text-xs">Economy</span>-->
<!--                    </td>-->
<!--                    <td class="px-4 py-2">Arrived</td>-->
<!--                </tr>-->
<!--                <tr class="border-t border-gray-200">-->
<!--                    <td class="px-4 py-2">102</td>-->
<!--                    <td class="px-4 py-2">06 Dec 09:30 AM</td>-->
<!--                    <td class="px-4 py-2">Mark Roy</td>-->
<!--                    <td class="px-4 py-2">Fred Jenner</td>-->
<!--                    <td class="px-4 py-2">$45</td>-->
<!--                    <td class="px-4 py-2">-->
<!--                        <span class="bg-purple-100 text-purple-500 py-1 px-3 rounded-full text-xs">Premium</span>-->
<!--                    </td>-->
<!--                    <td class="px-4 py-2">On Route</td>-->
<!--                </tr>-->
<!--                &lt;!&ndash; Add more rows as needed &ndash;&gt;-->
<!--                </tbody>-->
<!--            </table>-->
<!--        </div>-->
    </main>
        </div>
    </div>
</div>
<div th:replace="/components/lucide_icons :: lucide_icon"></div>
<footer th:replace="components/footer"></footer>
<script>
    // Hiển thị chi tiết người dùng khi nhấn nút "Chi tiết"
    function showDetails(userId) {
        const userRow = document.querySelector(`[data-user-id="${userId}"]`);
        if (userRow) {
            document.getElementById('detailId').textContent = userRow.dataset.userId;
            document.getElementById('detailName').textContent = userRow.dataset.name;
            document.getElementById('detailPhone').textContent = userRow.dataset.phoneNumber;
            document.getElementById('detailEmail').textContent = userRow.dataset.email;
            document.getElementById('detailAddress').textContent = userRow.dataset.address;
            document.getElementById('detailDob').textContent = userRow.dataset.dob;
        }
    }
</script>
</body>
</html>